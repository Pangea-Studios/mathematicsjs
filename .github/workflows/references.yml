name: Docs References

on: 
  push:
    branches:
      - main
    paths:
      - 'functions/**'
      - 'classes/**'

jobs:
  copy-file:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3

    - name: Pushes classes folder
      uses: andstor/copycat-action@v3
      with:
        personal_token: ${{ secrets.PERSONAL_TOKEN }}
        src_path: /classes/
        src_branch: main
        dst_path: /website/docs/reference/
        dst_branch: docs
        dst_owner: Pangea-Studios
        dst_repo_name: mathematicsjs
    
    - name: Pushes functions folder
      uses: andstor/copycat-action@v3
      with:
        personal_token: ${{ secrets.PERSONAL_TOKEN }}
        src_path: /functions/
        src_branch: main
        dst_path: /website/docs/reference/
        dst_branch: docs
        dst_owner: Pangea-Studios
        dst_repo_name: mathematicsjs